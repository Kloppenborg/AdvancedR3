---
title: "egne noter"
format: html
editor: visual
---

Suggest: usethis - For at undgå at skrive usethis::use_package all the
time - så skal du indsætte usethis::use_usethis() i konsollen.

```{r}
usethis::use_usethis()
```

Go to tools –\> projec options –\> Rmarkdown –\> change write canonical
... to true and Automatic text wrapping ... to "column"

Add the "targets package"

```{r}
use_package("targets")
```

Now add the target package

```{r}
targets::use_targets()
```

For tidyverse and tidy models use: This is due to the meta package
status that these two package are.

```{r}
use_package("tidyverse", "depends")
```

The code is written to communicate to other people (collaborators),
thats why we use the "depeds", "imports" etc. To specify and communicate
with collaboraters.

## Basic statistics (Table 1)

```{r}
lipidomics %>%
  group_by(metabolite) %>%
  summarise(across(
    value,
    list(
      mean = mean,
      sd = sd
    )
  )) %>%
  mutate(across(
    where(is.numeric),
    ~ round(.x, digits = 1)
  ))
```

## Convert the above into a function

```{r}
descriptive_stats <- function(data) {
    data %>% dplyr::group_by(metabolite) %>% 
  dplyr::summarise(dplyr::across(value, list(mean = mean, sd = sd))) %>% 
  dplyr::mutate(dplyr::across(tidyselect::where(is.numeric), ~ round(.x, digits = 1)))
}

descriptive_stats(lipidomics)
```

##Using the \_target package

```{r}
#To run the target file go to console and run
targets::tar_make()

#To visualize the pipeline in te target file run
targets::tar_visnetwork()

#To check if we need any updates run
targets::tar_outdated()

```
